@using FurnitureShop.Merchant.Blazor.Dtos
@using System.Net;
@inherits LayoutComponentBase
@inject NavigationManager NavManager
@inject HttpClient Http

<div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">
        <NavMenu/>
        <div class="layout-page">
            <NavBar/>
            <div class="content-wrapper">
                <div class="container-fluid flex-grow-1 container-p-y">
                    @Body
                </div>
                <footer class="content-footer footer bg-footer-theme">
                    <div class="container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
                        <div class="mb-2 mb-md-0">
                            ©
                            , made with 🧠 by 
                            <a href="https://ilmhub.uz" target="_blank"
                               class="footer-link fw-bolder">Ilmhub.uz Students</a>
                        </div>
                    </div>
                </footer>
                <div class="content-backdrop fade"></div>
            </div>
        </div>
    </div>
    <div class="layout-overlay layout-menu-toggle"></div>
</div>
@* @code {
    protected override async Task OnInitializedAsync()
    {
        var client = new HttpClient();
        client.BaseAddress = new Uri("https://localhost:7237");
        var message = new HttpRequestMessage(HttpMethod.Get, "/api/profiles/check");
        message.SetBrowserRequestCredentials(BrowserRequestCredentials.Include);
        var responseMessage = await client.SendAsync(message);

        if (responseMessage.StatusCode == HttpStatusCode.Unauthorized)
            NavManager.NavigateTo("/signin");
    }
} *@