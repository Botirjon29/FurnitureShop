@page "/update-organizations/{Id}"
@inject HttpClient _http;
@using FurnitureShop.Admin.Blazor.Dtos

<MudGrid Justify="Justify.Center">
    <MudCard Height="200px" Width="370px" Class="mt-5 ml-10 mr-10">
        <h2>Update Organization Form</h2>
        <MudTextField @bind-Value="dtoModel.Name" Label="Organization Name" Variant="Variant.Text" Required></MudTextField>
        <MudTextField @bind-Value="dtoModel.ImageUrl" Label="Organization Image" Variant="Variant.Text" Required></MudTextField>
        <MudButton Variant="Variant.Filled" EndIcon="@Icons.Filled.Done"
                   Color="Color.Primary" OnClick="OnInitializedAsync" Class="ma-2">Submit</MudButton>
    </MudCard>
</MudGrid>

@code {
    private UpdateOrganizationDto dtoModel = new UpdateOrganizationDto();

    protected override async Task OnInitializedAsync()
    {
        await _http.PutAsJsonAsync($"https://localhost:7113/api/Organizations/{Id}", dtoModel);
    }
    
    [Parameter]
    public string? Id { get; set; }
}